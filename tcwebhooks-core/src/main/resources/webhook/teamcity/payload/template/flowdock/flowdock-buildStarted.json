{
  "event": "activity",
  "author": {
    "name": "TeamCity",
    "avatar": "https://raw.githubusercontent.com/tcplugins/tcWebHooks/custom-templates/tcwebhooks-core/src/docs/images/FFFFFF-0.png"
  },
  "title": "updated build status to ${notifyType}",
#if( $branch )  
  "external_thread_id": "teamcity-${buildName}-#sanitize(${branchName})",
#else  
  "external_thread_id": "teamcity-${buildName}",
#end  
  "tags": [ "#${buildExternalTypeId}", "#${projectExternalId}", "#${notifyType}", "#${branchDisplayName}", "#teamcity" ],
  "thread": {
#if( $branch )    
    "title": "${buildName} (#sanitize(${branchDisplayName}))",
#else
    "title": "${buildName}",
#end    
    "fields": [
                { "label": "Build", "value": "${buildFullName}" },
#if( $branch )                    
                { "label": "Branch", "value": "${branchDisplayName}" },
                { "label": "Default Branch", "value": "${branchIsDefault}" },
#end                
                { "label": "Triggered By", "value": "${triggeredBy}" },
                { "label": "Agent", "value": "${agentName}" }
              ],
    "body": "<a href=\"${rootUrl}/project.html?projectId=${projectId}\">${projectName}</a> :: <a href=\"${rootUrl}/viewType.html?buildTypeId=${buildTypeId}\">${buildName}</a> # <a href=\"${rootUrl}/viewLog.html?buildTypeId=${buildTypeId}&buildId=${buildId}\"><strong>${buildNumber}</strong></a> has <strong>${buildStateDescription}</strong> with a status of <a href=\"${rootUrl}/viewLog.html?buildTypeId=${buildTypeId}&buildId=${buildId}\"><strong>${buildResult}</strong></a>",
    "external_url": "${buildStatusUrl}",
    "status": {
      "color": "grey",
      "value": "${notifyType}"
    }
  }
}